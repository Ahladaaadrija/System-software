DATA SEGMENT
  MSG1 DB 10,13,'ENTER THE STRING: $'
  MSG2 DB 10,13,'ENTER THE CHARACTER TO REPLACE: $'
  MSG3 DB 10,13,'ENTER THE NEW CHARACTER: $'
  MSG4 DB 10,13,'RESULTANT STRING IS: $'

  STR1 DB 50 DUP(0)
  OLDCH DB ?
  NEWCH DB ?
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE, DS:DATA

START:
   
    MOV AX,DATA        
    MOV DS,AX

   
    LEA DX,MSG1
    MOV AH,09H
    INT 21H

   
    LEA DI,STR1
READ_LOOP:
    MOV AH,01H
    INT 21H
    CMP AL,0DH      
    JE END_INPUT
    MOV [DI],AL
    INC DI
    JMP READ_LOOP
END_INPUT:
    MOV AL,'$'
    MOV [DI],AL

   
    LEA DX,MSG2
    MOV AH,09H
    INT 21H
    MOV AH,01H
    INT 21H
    MOV OLDCH,AL

    ; ask for new character
    LEA DX,MSG3
    MOV AH,09H
    INT 21H
    MOV AH,01H
    INT 21H
    MOV NEWCH,AL

    ; replace characters
    LEA SI,STR1
REPLACE_LOOP:
    MOV AL,[SI]
    CMP AL,'$'
    JE DONE
    CMP AL,OLDCH
    JNE NEXTCHAR
    MOV AL,NEWCH
    MOV [SI],AL
NEXTCHAR:
    INC SI
    JMP REPLACE_LOOP

DONE:
    ; show result
    LEA DX,MSG4
    MOV AH,09H
    INT 21H

    LEA DX,STR1
    MOV AH,09H
    INT 21H

    ; exit program
    MOV AH,4CH
    INT 21H

CODE ENDS
END START
